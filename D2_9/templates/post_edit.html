{% extends 'flatpages/default.html' %}

{% block content %}
<h1>{{ title }}</h1>
<hr>{{ posttype }}  {{ post_author }}
<form action="" method="post">
    {# D4.5 csrf_token добавляется в POST как скрытое поле для защиты от атаки CSRF, межсайтовой подделки запроса, #}
            {# https://docs.djangoproject.com/en/4.0/ref/csrf/ #}
    {% csrf_token %}
    <!-- Поскольку не удалось сделать генерацию поля скрытой, вставляю поля здесь -->
    <input type="hidden" name="type" id="id_type" value="{{ posttype }}">
    <input type="hidden" name="post_author" id="id_type" value="{{user}}">
    {{ form.as_p }}
    <input type="submit" value="Save" />
</form>
<hr>
<p>{{ success_url }}
<p>{{ after_create_url }}

{% endblock content %}